# v1.1
1.1的目标是让各种功能都切实可用。

* [x] 通过直接点选资产来开始创建一条新的交易，自动将资产设为选中的资产
    * 编辑资产的功能则改为长按资产card后进入编辑
* [x] 当后台任务完成了刷新资产时弹出个提醒
* [x] Asset还应该新增一个“备注”项，用于方便用户给每类资产一个备注
* [x] 交易记录也需要一个和交易机会一样的“交易理由”，在将交易机会转换为交易记录时也直接继承
* [x] 数据库里为资产配置增加备注，不过还不需要UI
* [x] 交易费用目前先全部给一个5的默认值
* [ ] 实现交易机会检查算法
    * [x] 在资产配置中增加上一次可能买入机会的发生时间
    * [x] 从`CheckTradingOpportunitiesUseCase`拆分出子功能：
        * 不考虑日期和上一次可能的买入机会的时间，假设已经是可能的买入机会了，根据资产配置情况，算出买入机会的类
        * 专门根据日期和上一次可能的买入机会的时间，判断现在是否到了一次可能的买入机会的类
        * 专门根据资产配置情况计算卖出机会的类
    * [x] 完善检查当天是否为交易日的方法
        * 通过`AShare.kt`来实现
    * [x] 实现交易机会检查算法
    * [ ] 调试交易机会检查算法
    * [ ] 在交易机会列表界面增加按钮专门用于不考虑日期直接计算买入机会
* [ ] 后台任务似乎依然无效，再研究研究
    * 记得调试完后台任务以后还要处理交易机会发现的通知


# 后续再做
* [ ] 重写AssetListScreen的显示，让它呈一个表格的样子，行是各类资产，列是资产信息，然后最左边的一列（资产名称）在屏幕中固定不动，剩余列可以横向滚动，从而适应竖屏
* [ ] 新增一个侧边栏，整理一下UI
* [ ] 为资产配置的备注制作UI
* [ ] 在编辑交易时，增加一个按钮，按下后会根据输入的份额和当前净值、交易费用自动计算交易金额
    * 注意交易金额实质上就等于现金变化量
* [ ] 把买入机会的检查从后台任务里独立出来，专门做成一个每天两点进行的alarm